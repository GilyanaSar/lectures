%% Работа с русским языком
\usepackage{cmap}                   % поиск в PDF
\usepackage{mathtext}               % русские буквы в формулах
\usepackage{ulem}

\usepackage[T2A]{fontenc}           % кодировка
\usepackage[utf8]{inputenc}         % кодировка исходного текста. НИКОГДА НЕ МЕНЯТЬ.
\usepackage[english,russian]{babel} % локализация и переносы
\usepackage{epigraph}               % делать эпичные эпиграфы
\usepackage{fancybox,fancyhdr}      % для колонтитулов

%% Отступы между абзацами и в начале абзаца 
\setlength{\parindent}{0pt}
\setlength{\parskip}{\medskipamount}

%% Изменяем размер полей
\usepackage[top=0.8in, bottom=0.75in, left=0.625in, right=0.625in]{geometry}

%% Изменяем размер отступов колонтитулов
\renewcommand{\headrulewidth}{1.8pt}
\renewcommand{\footrulewidth}{0.0pt}

%% Графика
\usepackage[pdftex]{graphicx}
\graphicspath{{images/}}

%% Различные пакеты для работы с математикой
\usepackage{mathtools}      % Тот же amsmath, только с некоторыми поправками

\usepackage{amssymb}        % Математические символы
\usepackage{amsthm}         % Пакет для написания теорем
\usepackage{amstext}
\usepackage{array}
\usepackage[noend]{algpseudocode}
\usepackage{algorithm}
\usepackage{algorithmicx}
\usepackage{verbatim}
\usepackage{amsfonts}
\usepackage{icomma}         % "Умная" запятая: $0,2$ --- число, $0, 2$ --- перечисление
\usepackage{enumitem}       % Для выравнивания itemize (\begin{itemize}[align=left])
\usepackage{ifthen}
\usepackage{indentfirst}
\usepackage{epigraph}
\renewcommand{\epigraphsize}{\small}
\setlength{\epigraphwidth}{0.6\textwidth}


% Номера формул
\mathtoolsset{showonlyrefs=true} % Показывать номера только у тех формул, на которые есть \eqref{} в тексте.

% Ссылки
\usepackage[urlcolor=blue]{hyperref}

% Шрифты
\usepackage{euscript}  % Шрифт Евклид
\usepackage{mathrsfs}  % Красивый матшрифт

% Свои команды\textbf{}
\DeclareMathOperator{\sgn}{\mathop{sgn}}

% Перенос знаков в формулах (по Львовскому)
\newcommand*{\hm}[1]{#1\nobreak\discretionary{}
{\hbox{$\mathsurround=0pt #1$}}{}}

% Графики
\usepackage{pgfplots}
%\pgfplotsset{compat=1.12}

% Алгоритмы
\newcommand*\Let[2]{\State #1 $ = $ #2}

% Изменим формат \section и \subsection:
\usepackage{titlesec}
\titleformat{\section}
{\vspace{1cm}\centering\LARGE\bfseries} % Стиль заголовка
{}                        % префикс
{0pt}                     % Расстояние между префиксом и заголовком
{}                        % Как отображается префикс
\titleformat{\subsection} % Аналогично для \subsection
{\Large\bfseries}
{}
{0pt}
{}


%% Информация об авторах
%% Титульный лист
\renewcommand{\titlepage}{\begingroup
    \hbox{
          \hspace*{0.12\textwidth}
          \rule{1pt}{\textheight}
          \hspace*{0.05\textwidth}
          \parbox[b]{0.775\textwidth}{
              %{\includegraphics[width=\linewidth]{../images/velosiped.jpg}}\\[2\baselineskip]
              {\noindent\Huge\bfseries Алгоритмы и
              структуры данных}\\[\baselineskip]
              {\large\textrm{Конспекты лекций}}\\[3\baselineskip]
              {\Large\textsc{Лектор: Г.О. Евстропов}}\\[\baselineskip]
              {Под редакцией Валерии Маликовой и Глеба Новикова}\\[6\baselineskip]
              {\noindent НИУ ВШЭ, 2016-2017}\\[\baselineskip]
          }
    }
    \endgroup
}



%% Для колонтитула
\def\head{
{\it \small  НИУ ВШЭ $\bullet$ Факультет компьютерных наук $\bullet$
Прикладная математика и информатика}
}

%% Делаем верхний и нижний колонтитулы
\fancyhf{}
\fancyhead[L]{\ifthenelse{\isodd{\thepage}}{\head}{\thepage}}
\fancyhead[R]{\ifthenelse{\isodd{\thepage}}{\thepage}{\head}}


%% Функция для обнуление конкретного счётчика
\def\ob#1{\setcounter{#1}{0}}

\newtheorem{oldlem}{Лемма}[section]
\newenvironment{lemma}[1][]
  {\begin{oldlem}[#1]}
  {\end{oldlem}}

\newtheorem{oldprep}[oldlem]{Предложение}
\newenvironment{preposition}[1][]
  {\begin{oldprep}[#1]\normalfont}
  {\end{oldprep}}

\newtheorem{oldtheor}[oldlem]{Теорема}
\newenvironment{theorem}[1][]
  {\begin{oldtheor}[#1]}
  {\end{oldtheor}}

\newtheorem{oldcorol}[oldlem]{Следствие}
\newenvironment{corollary}[1][]
  {\begin{oldcorol}[#1]\normalfont}
  {\end{oldcorol}}

\newtheorem{oldrem}[oldlem]{Замечание}
\newenvironment{remark}[1][]
  {\begin{oldrem}[#1]\normalfont}
  {\end{oldprem}}

\newtheorem{olddefi}[oldlem]{Определение}
\newenvironment{definition}[1][]
  {\begin{olddefi}[#1]\normalfont}
  {\end{olddefi}}

\newtheorem{oldstat}[oldlem]{Утверждение}
\newenvironment{statement}[1][]
  {\begin{oldstat}[#1]}
  {\end{oldstat}}

\newtheorem{oldex}[oldlem]{Пример}
\newenvironment{example}[1][]
  {\begin{oldex}[#1]\normalfont}
  {\end{oldex}}

\newtheorem{oldprop}[oldlem]{Свойство}
\newenvironment{property}[1][]
  {\begin{oldprop}[#1]}
  {\end{oldprop}}

\newenvironment{proof_cor}
  {\textit{Доказательство корректности.}}
  {\par}

\renewenvironment{time}
  {\textit{Время работы.}}
  {\par}

\renewcommand{\Re}{\mathrm{Re\:}}
\renewcommand{\Im}{\mathrm{Im\:}}
\newcommand{\Arg}{\mathrm{Arg\:}}
\renewcommand{\arg}{\mathrm{arg\:}}
\newcommand{\Mat}{\mathrm{Mat}}
\newcommand{\id}{\mathrm{id}}
\newcommand{\isom}{\xrightarrow{\sim}} 
\newcommand{\leftisom}{\xleftarrow{\sim}}
\newcommand{\Hom}{\mathrm{Hom}}
\newcommand{\Ker}{\mathrm{Ker}\:}
\newcommand{\rk}{\mathrm{rk}\:}
\newcommand{\diag}{\mathrm{diag}}
\newcommand{\ort}{\mathrm{ort}}
\newcommand{\pr}{\mathrm{pr}}
\newcommand{\vol}{\mathrm{vol\:}}
\newcommand{\limref}[2]{{#1}\negmedspace\mid_{#2}}
\newcommand{\eps}{\varepsilon}

\renewcommand{\phi}{\varphi} % плохо, так как есть \phi в англ раскладке.
\newcommand{\e}{\mathrm{e}}
\newcommand{\N}{\mathbb{N}}
\newcommand{\Z}{\mathbb{Z}}
\newcommand{\Q}{\mathbb{Q}}
\newcommand{\R}{\mathbb{R}}
\renewcommand{\P}{\mathbb{P}}
\renewcommand{\C}{\mathbb{C}}
\newcommand{\E}{\mathbb{E}}
\newcommand{\D}{\mathbb{D}}
\renewcommand{\O}{\mathcal{O}}
\newcommand{\NPclass}{\mathbf{NP}}
\newcommand{\coNPclass}{\mathbf{coNP}}
\newcommand{\NPCclass}{\mathbf{NPC}}
\newcommand{\SAT}{\mathsf{SAT}}
\newcommand{\set}[1]{\left \lbrace #1 \right \rbrace}
\renewcommand{\E}{\mathsf{E}}
\renewcommand{\D}{\Variance}
\renewcommand{\P}{\Prob}
\newcommand{\note}[1]{
\ \\
\#\#\# \\
#1 \\
\#\#\# \\}
\newcommand{\vvector}[1]{\begin{pmatrix}{#1}_1 \\\vdots\\{#1}_n\end{pmatrix}}
\renewcommand{\vector}[1]{({#1}_1, \ldots, {#1}_n)}
\newcommand{\textbox}[1]{
  \noindent\fbox{
    \parbox{\textwidth}{
        #1
    }
  }
}

\renewcommand{\textflush}{flushright} \renewcommand{\sourceflush}{flushright}

\let\originalepigraph\epigraph 
\renewcommand\epigraph[2]{\originalepigraph{\textit{#1}}{\textsc{#2}}}

\newcommand{\Mod}{\ \text{mod} \ }

\usetikzlibrary{calc,arrows.meta,positioning}
