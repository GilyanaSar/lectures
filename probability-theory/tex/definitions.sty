%% Символы
\newcommand\independent{\protect\mathpalette{\protect\independenT}{\perp}}          % Знак "независимы"
\def\independenT#1#2{\mathrel{\rlap{$#1#2$}\mkern2mu{#1#2}}}

\providecommand\given{}
\DeclarePairedDelimiterX\brackets[1]{(}{)}{
    \renewcommand\given{  \nonscript\:
        \delimsize\vert
        \nonscript\:
        \mathopen{}
        \allowbreak}
    #1
}
\DeclarePairedDelimiterX\squarebrackets[1]{[}{]}{
    \renewcommand\given{  \nonscript\:
        \delimsize\vert
        \nonscript\:
        \mathopen{}
        \allowbreak}
    #1
}
\let\Pr\undefined
\NewDocumentCommand{\Pr}{g}{\mathsf{P}\IfNoValueTF{#1}{}{\brackets*{#1}}}
\NewDocumentCommand{\E}{g}{\mathsf{E}\IfNoValueTF{#1}{}{\squarebrackets*{#1}}}
\NewDocumentCommand{\D}{g}{\mathsf{D}\IfNoValueTF{#1}{}{\squarebrackets*{#1}}}
\newcommand{\cov}{\operatorname{\mathsf{cov}}}  % Ковариация
\newcommand{\eqdist}{\overset{d}{=}}    % Одинаково распределённые величины
\newcommand{\prto}{\xrightarrow{\Pr}}	% Сходимость по вероятности (probably to)
\newcommand{\asto}{\xrightarrow{\text{п.н.}}}	% Сходимость почти наверное (almost surely to)
\newcommand{\N}{\mathbb{N}}             % Натуральные числа
\newcommand{\Z}{\mathbb{Z}}             % Целые числа
\newcommand{\R}{\mathbb{R}}             % Действительные числа
\renewcommand{\leq}{\leqslant}          % Меньше или равно
\renewcommand{\geq}{\geqslant}          % Больше или равно
\renewcommand{\phi}{\varphi}            % Фи
\renewcommand{\epsilon}{\varepsilon}    % Эпсилон
\renewcommand{\emptyset}{\varnothing}   % Пустое множество

%% Алгоритмы
\renewcommand{\algorithmicrequire}{\textbf{Вход:}}
\renewcommand{\algorithmicensure}{\textbf{Выход:}}
\renewcommand{\algorithmiccomment}[1]{\hspace*{\fill}\{#1\}}
\floatname{algorithm}{Алгоритм}
\newcommand{\algname}[1]{\textsc{#1}}

%% Теоремы и иже с ними
\theoremstyle{remark}
\newtheorem*{remark}{Примечание}
\newtheorem*{exercise}{Упражнение}

\theoremstyle{definition}
\newtheorem{definition}{Определение}

\theoremstyle{plain}
\newtheorem*{frequency-stability}{Принцип устойчивости частоты}
\newtheorem*{law-of-total-probability}{Формула полной вероятности}
\newtheorem*{lemma}{Лемма}
\newtheorem{theorem}{Теорема}
\newtheorem{problem}{Задача}
\newtheorem*{hypothesis}{Гипотеза}